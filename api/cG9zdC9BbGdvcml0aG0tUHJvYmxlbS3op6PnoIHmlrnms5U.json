{"title":"Algorithm-Problem-解码方法","date":"2020-02-29T10:37:18.000Z","slug":"Algorithm-Problem-解码方法","comments":true,"updated":"2020-02-29T10:39:39.427Z","content":"<h3 id=\"问题描述\">问题描述<a href=\"post/Algorithm-Problem-解码方法#问题描述\"></a></h3><p>一条包含字母 A-Z 的消息通过以下方式进行了编码：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&apos;A&apos; -&gt; 1</span><br><span class=\"line\">&apos;B&apos; -&gt; 2</span><br><span class=\"line\">...</span><br><span class=\"line\">&apos;Z&apos; -&gt; 26</span><br><span class=\"line\">给定一个只包含数字的非空字符串，请计算解码方法的总数。</span><br></pre></td></tr></table></figure></p>\n<p>示例 1:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: &quot;12&quot;</span><br><span class=\"line\">输出: 2</span><br><span class=\"line\">解释: 它可以解码为 &quot;AB&quot;（1 2）或者 &quot;L&quot;（12）。</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"解决方法\">解决方法<a href=\"post/Algorithm-Problem-解码方法#解决方法\"></a></h3><p>动态规划</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package main</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">\"fmt\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">var dic = <span class=\"built_in\">map</span>[<span class=\"built_in\">string</span>]<span class=\"built_in\">string</span>&#123;</span><br><span class=\"line\">\t<span class=\"string\">\"1\"</span>: <span class=\"string\">\"A\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"2\"</span>: <span class=\"string\">\"B\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"3\"</span>: <span class=\"string\">\"C\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"4\"</span>: <span class=\"string\">\"D\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"5\"</span>: <span class=\"string\">\"E\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"6\"</span>: <span class=\"string\">\"F\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"7\"</span>: <span class=\"string\">\"G\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"8\"</span>: <span class=\"string\">\"H\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"9\"</span>: <span class=\"string\">\"I\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"10\"</span>: <span class=\"string\">\"J\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"11\"</span>: <span class=\"string\">\"K\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"12\"</span>: <span class=\"string\">\"L\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"13\"</span>: <span class=\"string\">\"M\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"14\"</span>: <span class=\"string\">\"N\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"15\"</span>: <span class=\"string\">\"O\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"16\"</span>: <span class=\"string\">\"P\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"17\"</span>: <span class=\"string\">\"Q\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"18\"</span>: <span class=\"string\">\"R\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"19\"</span>: <span class=\"string\">\"S\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"20\"</span>: <span class=\"string\">\"T\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"21\"</span>: <span class=\"string\">\"U\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"22\"</span>: <span class=\"string\">\"V\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"23\"</span>: <span class=\"string\">\"W\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"24\"</span>: <span class=\"string\">\"X\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"25\"</span>: <span class=\"string\">\"Y\"</span>,</span><br><span class=\"line\">\t<span class=\"string\">\"26\"</span>: <span class=\"string\">\"Z\"</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">func numDecodings(s <span class=\"built_in\">string</span>) <span class=\"keyword\">int</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> len(s) == <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tlength := len(s)</span><br><span class=\"line\">\trecord := make([]<span class=\"keyword\">int</span>, length)</span><br><span class=\"line\"></span><br><span class=\"line\">\ts0 := <span class=\"built_in\">string</span>(s[<span class=\"number\">0</span>])</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> _, ok := dic[s0]; ok &#123;</span><br><span class=\"line\">\t\trecord[<span class=\"number\">0</span>] = <span class=\"number\">1</span></span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\trecord[<span class=\"number\">0</span>] = <span class=\"number\">0</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> j := <span class=\"number\">1</span>; j &lt; length; j++ &#123;</span><br><span class=\"line\">\t\tcharAt := <span class=\"built_in\">string</span>(s[j])</span><br><span class=\"line\">\t\t_, ok := dic[charAt]</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> ok &#123;</span><br><span class=\"line\">\t\t\trecord[j] = record[j - <span class=\"number\">1</span>]</span><br><span class=\"line\">\t\t\trecentTwo := s[j - <span class=\"number\">1</span> : j + <span class=\"number\">1</span>]</span><br><span class=\"line\">\t\t\t_, ok = dic[recentTwo]</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> ok &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> j &gt;= <span class=\"number\">2</span> &#123;</span><br><span class=\"line\">\t\t\t\t\trecord[j] += record[j - <span class=\"number\">2</span>]</span><br><span class=\"line\">\t\t\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t\t\trecord[j] += <span class=\"number\">1</span></span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\trecentTwo := s[j - <span class=\"number\">1</span> : j + <span class=\"number\">1</span>]</span><br><span class=\"line\">\t\t\t_, ok = dic[recentTwo]</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> ok &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> j &gt;= <span class=\"number\">2</span> &#123;</span><br><span class=\"line\">\t\t\t\t\trecord[j] = record[j - <span class=\"number\">2</span>]</span><br><span class=\"line\">\t\t\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t\t\trecord[j] = <span class=\"number\">1</span></span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t\trecord[j] = <span class=\"number\">0</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> record[length - <span class=\"number\">1</span>]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">func main() &#123;</span><br><span class=\"line\">\tstr := <span class=\"string\">\"226\"</span></span><br><span class=\"line\">\tfmt.Println(numDecodings(str))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","next":{"title":"Algorithm-Problem-为运算表达式设计优先级","slug":"Algorithm-Problem-为运算表达式设计优先级"},"link":"http://yoursite.com/post/Algorithm-Problem-解码方法/"}